## 참조와 복사

---

```
1. 값의 복사
2. 복사되는 값의 유형
3. 참조되는 객체
4. 인자 전달 패턴
```

<br />

**참조와 복사 매커니즘**

값을 변수로 할당할 때, <br />
변수와 변수 사이에 그 값이 이동하는 메커니즘과 관련된 <br />
아주 간단한 매커니즘이지만 굉장히 중요한 매커니즘 중 하나다.

```js
let a = 10;
let b = a;

b = 20;

a; // 10
b; // 20
```

위와 같은 작동은 값이 '복사'됨을 의미한다.

<br />

**어떠한 값들이 복사되는가?**

숫자, 문자열, boolean, null, undefined와 같은 기본형 데이터 타입들. → 복사가 됨. 복사의 대상이다.

<br />

**그럼 참조되는 값은 어떤 것일까?**

기본형 값을 제외한 나머지 값이다. 결국 객체다. <br />
객체라고 하는 값은 복사되지 않고 참조된다.

<br />

**근데, 참조가 뭐죠?**

```js
// 아까 위와 동일한 상태.
let o = {
  isLoading: false,
};
let o2 = o;

o2.isLoading = true;

o.isLoading; // true
o2.isLoading; // true
```

※ 효율을 위해 복잡한 데이터형인 Object만, 주소값만 저장하는 참조가 되도록 설계했다는 이야기...!

<br />

**정리**

기본형 데이터 값 → 값이 변수에 할당된다.<br />
객체 → 값의 위치값이 변수에 할당된다.

`o2.isLoading = true` 는 o2.isLoading에 true라는 값을 할당한다는게 아니라, <br />
변수 o2가 '가리키고 있는' 객체의 속성 isLoading을 true로 바꾼다. 라는 뜻이다.

'객체의 위치만 가리키고 있다.', '참조만 하고 있다.' 고 해서 참조 메커니즘이라 불린다. <br />

아무리 많은 변수에 그 객체의 위치값을 넘겨준다 하더라도 절대 변하지 않는다.<br />
결국 객체는 유니크하고, `한 번 만들어지고 나서는 대입문을 통해서 절대로 복사되지 않는다!`<br />
언제나 하나만 존재한다는 뜻이다!

<br />

**헷갈리는 예제**

```js
let o = {
  isLoading: false,
};

function foo(param) {
  param.isLoading = true;
}

foo(o);

o.isLoading; // true
```

객체 참조로 의도치 않은 동작이 발생할 수 있으므로, 꼭 이해하기~~~
