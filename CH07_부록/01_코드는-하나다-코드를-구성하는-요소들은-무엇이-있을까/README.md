#### 코드는 하나다? 코드를 구성하는 요소들은 무엇이 있을까?

가독성에 대한 이야기...

가독성? 코드를 보고 누구나 "아 이 코드가 어떤 일을 하는 소프트웨어구나"라고 금방 알 수 있게 만드는 것.
코드 자체가 쓰이는 시간보다는 다른 사람들, 혹은 많은 사람들한테 읽히는 시간이 굉장히 많다.
사람들이 왜 소프트웨어를 읽을까? 기본적으로 소프트웨어가 자주 바뀌니까 변경을 하려면 이 코드가 어떤 일을 하는지 알아야 되니까 읽게 되는 것일 것이다.
이처럼 읽히는 시간이 많다보니까, 코드 자체가 잘 읽히게 만들어지는 것이 굉장히 중요한 가치중에 하나 일 것이다.

---

```
1. 코드는 왜 읽히는가?
2. 저수준, 고수준
3. 가독성은 상대적이다
```

"가독성은 어떻게 높은 수준으로 유지될 수 있을까?"에 대한 conceptual한 이야기

**코드는 무엇으로 이루어저 있을까?**

```js
const MAX_COUNT = 100;

function double(a) {
  if (a > MAX_COUNT) {
    return a;
  } else {
    return a * 2;
  }
}

double(15);
```

- 어떤 맥락이 보이나?
- 읽기 좋아 보이는 코드처럼 보이나?
- 가독성이 높은 코드처럼 보이나?

실제로 이 코드 자체는 아무 의미가 없다. 😅
`double`이라고 하는 함수가 무슨일을 하겠는가.
용도가 불분명하고 사실 아무짝에도 쓸모없는 코드지.

그런데, 이 코드를 구성하고 있는 구성 성분은 어떤 것이 있을까?

`const`, 혹은 `식별자`, `function`라고 하는 키워드도 있고,
`함수명`도 있고, `변수`도 있고, `if`라고 하는 키워드도 있고,
`return`, `세미콜론`, `괄호`, `브레이스`, ... 여러가지가 있다.

실제로 코드를 구성하는 가장 최소한의 단위는 우리가 `토큰`이라고 부른다.
여기서 말하는 토큰은 위 코드의 `const`, 혹은 `공백`, `세미콜론`, `괄호`, 이 모든 것을 다 토큰이라고 부른다. 토큰보다 더 작은 단위는 문자(`c`, `o`, `n`, `=`, `1`, `0`,...)가 될 것이다.

문자가 어떻게 이루어졌는지, 문자가 어떻게 조합돼서 토큰이 되는지, 그리고 토큰이 어떻게 조합돼서 코드가 되는지, 그럼 그 코드는 어떻게 결합돼서 의미를 전달할 수 있는, 실제적으로 동작할 수 있는 프로그래밍 언어가 되는지, 이 모든 것들이 켜켜이 바닥부터 한 단계씩 쌓아 올라가는 것인데,

실제로 이 코드는 컴퓨터에서 실행이 되기 위해서는 컴퓨터가 이해하는 언어로 다시 번역이 돼야 한다.

<br />

**저수준,고수준**

그래서 이런 표현이 있다.
`저수준(low level)`이라는 표현과 `고수준(high level)`이라는 표현이다.
이 표현의 기준은 '사람'이다. 사람이 이해하기 쉬운 수준일수록 우리가 `고수준`이라고 보통 얘기를 하고,
기계가 이해하기 쉬운 상태로 내려갈수록 `저수준`이라고 얘기한다.

그러면, `토큰`이나 `문자` 이런 부분들은 저수준에 가까울 것이다.
왜냐하면 우리는 그 맥락을 보고선 이 코드를 이해하지 않으니깐 말이다.
"function 이구나"하는 단어 수준의 맥락을 가지고 이 코드를 이해하기 때문에 자바스크립트 코드는 `고수준 표현 상태`라고도 얘기할 수 있다.

- [AST(Abstract Syntax Tree, 추상 구문 트리)](https://ts-ast-viewer.com/)

  ![](https://user-images.githubusercontent.com/19165916/193580392-af105fc5-3685-46e4-89df-c06580867813.png)

  우리가 넣은 코드는 간단한데, SourceFile이라고 하는 것들이 굉장히 복잡해졌고, Node라고 하는 수준으로 내려가면 더 복잡하다. 간단한 소스코드도 이렇게 복잡하게 만들어져 있다.

  이는 소스 코드를 분석(파싱)해서, 기계가 실행하기 좋은 상태로 만들기 이전에 중간 상태로 만들어 놓게 되는 자료 구조 중에 하나이다.

  Abstract Syntax Tree에 대한 이해가 있으면, 코드를 읽어서 어떤 게 함수고, 변수가 어떤 게 있고, 변수 안에 어떤 값이 들어가 있고, 또 함수와 함수 간의 관계는 어떻고, 어떻게 호출 관계가 이루어지는지를 다 분석할 수가 있다. 😳😅

<br />

**가독성은 상대적이다**

아무튼, 여기서 이야기하고자 하는 바는 기본적으로 가독성이라고 하는 것은 상대적이고
그 상대성이라고 하는 측면에서 개발자들 즉, 동료들과 나의 지식 이해도 수준이 어느 정도인가, 저수준에 가까운가, 고수준에 가까운가, 저수준에 가깝다는 건 그만큼 기계에 대한 이해도가 높고 원천적인 기술에 대한 이해도가 있다는 것일 것이다.

그리고 프로그래밍이라는 테크닉의 관점으로 보면 다양한 프로그래밍 테크닉이 존재하지만, 그 프로그래밍 테크닉의 이해도가 낮으면 낮을수록
훨씬 쉬운 코드를 작성해야 가독성이 좋은 코드라고 얘기를 할 테고, 다양한 고급 테크닉을 썼어도 그걸 충분히 이해하고 있는 동료들과 나라면 그 코드도 충분히 가독성이 높은 코드일 것이다.

예를 들면 일반 함수를 작성해서 코드를 짜는 사람과 애로우 함수를 가지고 코드를 짜는 사람이 있다. 일반 함수를 가지고 짜는 사람이 애로우 함수는 기호가 등장하고 변형도 특이하기도 하고 해서 잘 모르겠다고해서 잘 안 쓰기 시작했다. 그러면 그 사람한테 애로우 함수가 많이 쓰인 코드는 굉장히 가독성이 낮은 코드가 될 것이다.

그런데 다시 생각해보면, 그 코드가 정말 가독성이 낮은 코드일까?

그렇지 않을 것이다. 단지, 상대적으로 그 코드를 읽을 만한 수준이 아직 안 됐기 때문에
가독성이 떨어지는 코드라고 평가를 한다는 것이다.

그래서 우리가 가독성과 같은 부분들을 얘기를 할 때, 기본적으로 내가 어떤 지식 수준인가,
애플리케이션 구조나 프로그램 코드의 구조가
얼마나 운영하기 좋은 상태인가, 개발하기 좋은 상태인가도 항상 상대적이라는 것이다.

그래서 프로그래밍 언어 기저에 깔려 있는 메커니즘이나 혹은 컴퓨터 시스템이 프로그래밍 언어를 번역하고 실행하는 이론이라든가, 혹은 프로그래밍 패턴의 다양한 고급 테크닉들, 예를 들면 객체 지향 프로그래밍이라고 하는 기법이라든가, 혹은 functional 프로그래밍이라고 하는 기법들도 충분히 연습해서 자기만의 많은 코드를 작성해보고 그 코드의 마일리지가 쌓여서 굉장히 고급 테크닉의 코드를 보더라도 "이게 굉장히 가독성 높고, 내가 바로바로 이해할 수 있고, 코드가 굉장히 효과적으로 쓰여 있구나." 라고 느낄 수 있을 만큼 훈련을 해야 된다는 이야기.

##### 언제나 '가독성', '좋은 코드'는 '절대적'이지 않고 항상 '상대적'이다.

이 상대성도 수준이 있어서 그 수준을 끌어올리기 위해서는 넓은 범위의 저수준 지식들을 많이 학습해야 된다는 것이다.

##### 저수준으로 내려갈수록 학습하기는 훨씬 어렵고, 학습 비용도 굉장히 높지만, 그럼에도 불구하고 성장하고 더 좋은 개발자가 되기 위해서는 충분히 투자할 가치가 있는 지식들이다.
